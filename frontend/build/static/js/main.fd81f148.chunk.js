(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(t){t.exports={v:"5.5.2",fr:60,ip:0,op:104,w:84,h:40,nm:"Typing-Indicator",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"Oval 3",sr:1,ks:{o:{a:1,k:[{i:{x:[.643],y:[1]},o:{x:[1],y:[0]},t:18,s:[35],e:[100]},{i:{x:[.099],y:[1]},o:{x:[.129],y:[0]},t:33,s:[100],e:[35]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:65,s:[35],e:[35]},{t:71}],ix:11,x:"var $bm_rt;\n$bm_rt = loopOut('cycle', 0);"},r:{a:0,k:0,ix:10},p:{a:0,k:[61,20,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[1,1,.333],y:[0,0,0]},t:18,s:[100,100,100],e:[140,140,100]},{i:{x:[.032,.032,.667],y:[1,1,1]},o:{x:[.217,.217,.333],y:[0,0,0]},t:33,s:[140,140,100],e:[100,100,100]},{i:{x:[.833,.833,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},t:65,s:[100,100,100],e:[100,100,100]},{t:71}],ix:6,x:"var $bm_rt;\n$bm_rt = loopOut('cycle', 0);"}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[12,12],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"fl",c:{a:0,k:[.847000002861,.847000002861,.847000002861,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Oval 3",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:3600,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Oval 2",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[1],y:[0]},t:9,s:[35],e:[98]},{i:{x:[.023],y:[1]},o:{x:[.179],y:[0]},t:24,s:[98],e:[35]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:56,s:[35],e:[35]},{t:62}],ix:11,x:"var $bm_rt;\n$bm_rt = loopOut('cycle', 0);"},r:{a:0,k:0,ix:10},p:{a:0,k:[41,20,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.654,.654,.667],y:[1,1,1]},o:{x:[1,1,.333],y:[0,0,0]},t:9,s:[100,100,100],e:[140,140,100]},{i:{x:[.11,.11,.667],y:[1,1,1]},o:{x:[.205,.205,.333],y:[0,0,0]},t:24,s:[140,140,100],e:[100,100,100]},{i:{x:[.833,.833,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},t:56,s:[100,100,100],e:[100,100,100]},{t:62}],ix:6,x:"var $bm_rt;\n$bm_rt = loopOut('cycle', 0);"}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[12,12],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"fl",c:{a:0,k:[.847000002861,.847000002861,.847000002861,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Oval 2",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:3600,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Oval 1",sr:1,ks:{o:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[1],y:[0]},t:0,s:[35],e:[100]},{i:{x:[.067],y:[1]},o:{x:[.125],y:[0]},t:15,s:[100],e:[35]},{i:{x:[.833],y:[1]},o:{x:[.167],y:[0]},t:47,s:[35],e:[35]},{t:53}],ix:11,x:"var $bm_rt;\n$bm_rt = loopOut('cycle', 0);"},r:{a:0,k:0,ix:10},p:{a:0,k:[21,20,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.673,.673,.667],y:[1,1,1]},o:{x:[1,1,.333],y:[0,0,0]},t:0,s:[100,100,100],e:[140,140,100]},{i:{x:[.049,.049,.667],y:[1,1,1]},o:{x:[.198,.198,.333],y:[0,0,0]},t:15,s:[140,140,100],e:[100,100,100]},{i:{x:[.833,.833,.833],y:[1,1,1]},o:{x:[.167,.167,.167],y:[0,0,0]},t:47,s:[100,100,100],e:[100,100,100]},{t:53}],ix:6,x:"var $bm_rt;\n$bm_rt = loopOut('cycle', 0);"}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[12,12],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"fl",c:{a:0,k:[.847000002861,.847000002861,.847000002861,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Oval 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:3600,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"BG",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[42,20,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-42,-20],[42,-20],[42,20],[-42,20]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"rd",nm:"Round Corners 1",r:{a:0,k:20,ix:1},ix:2,mn:"ADBE Vector Filter - RC",hd:!1},{ty:"fl",c:{a:0,k:[.96078401804,.96078401804,.96078401804,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"BG",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:3600,st:0,bm:0}],markers:[]}},138:function(t,e,r){t.exports=r(173)},145:function(t,e,r){},146:function(t,e,r){},172:function(t,e,r){},173:function(t,e,r){"use strict";r.r(e);var n=r(0),a=r.n(n),o=r(109),i=r.n(o),c=(r(145),r(146),r(7)),u=r(43),l=r(104),s=r(12),h=r(5),f=r(59),p=r(23),d=r(34),m=r(67),y=r(14),v=r.n(y);function g(){g=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(_){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof h?e:h,o=Object.create(a.prototype),i=new k(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(_){return{type:"throw",arg:_}}}t.wrap=u;var s={};function h(){}function f(){}function p(){}var d={};c(d,a,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(L([])));y&&y!==e&&r.call(y,a)&&(d=y);var v=p.prototype=h.prototype=Object.create(d);function b(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function x(t,e){var n;this._invoke=function(a,o){function i(){return new e(function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,h=s.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(h).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(a,o,n,i)})}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=p,c(v,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},b(x.prototype),c(x.prototype,o,function(){return this}),t.AsyncIterator=x,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new x(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},b(v),c(v,i,"Generator"),c(v,a,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var b=function(){var t=Object(n.useState)(),e=Object(h.a)(t,2),r=e[0],o=e[1],i=Object(n.useState)(),l=Object(h.a)(i,2),y=l[0],b=l[1],x=Object(n.useState)(!1),E=Object(h.a)(x,2),w=E[0],O=E[1],k=Object(n.useState)(!1),L=Object(h.a)(k,2),j=L[0],_=L[1],S=Object(f.b)(),C=Object(c.f)(),F=function(){var t=Object(s.a)(g().mark(function t(){var e,n,a;return g().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(_(!0),r&&y){t.next=6;break}return _(!1),S({title:"Please Fill all the Fields",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),_(!1),t.abrupt("return");case 6:return t.prev=6,e={headers:{"Content-type":"application/json"}},t.next=10,v.a.post("/api/user/login",{email:r,password:y},e);case 10:n=t.sent,a=n.data,S({title:"Login Successful",status:"success",duration:5e3,isClosable:!0,position:"bottom"}),localStorage.setItem("userInfo",JSON.stringify(a)),_(!1),C("/chats"),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(6),_(!1),S({title:"Invalid Credentials",status:"error",description:t.t0.response.data.message,duration:5e3,isClosable:!0,position:"bottom"});case 22:case"end":return t.stop()}},t,null,[[6,18]])}));return function(){return t.apply(this,arguments)}}();return a.a.createElement(u.f,{spacing:"5px"},a.a.createElement(p.a,null,a.a.createElement(p.b,null,"email"),a.a.createElement(d.a,{placeholder:"Enter your email",value:r||"",onChange:function(t){return o(t.target.value)}})),a.a.createElement(p.a,{id:"password",isRequired:!0},a.a.createElement(p.b,null,"Password"),a.a.createElement(d.b,null,a.a.createElement(d.a,{type:w?"text":"password",placeholder:"Enter your password",onChange:function(t){return b(t.target.value)},value:y||""}),a.a.createElement(d.c,{width:"4.5rem"},a.a.createElement(m.a,{h:"1.75rem",size:"sm",onClick:function(){O(!w)}},w?"Hide":"Show")))),a.a.createElement(m.a,{colorScheme:"blue",width:"100%",color:"white",onClick:F,style:{marginTop:15},isLoading:j},"Login"),a.a.createElement(m.a,{colorScheme:"red",width:"100%",color:"white",onClick:function(){o("Guest"),b("12guest34"),F()},style:{marginTop:15}},"Chat as a Guest"))};function x(){x=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(_){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof h?e:h,o=Object.create(a.prototype),i=new k(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(_){return{type:"throw",arg:_}}}t.wrap=u;var s={};function h(){}function f(){}function p(){}var d={};c(d,a,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(L([])));y&&y!==e&&r.call(y,a)&&(d=y);var v=p.prototype=h.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e(function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,h=s.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(h).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(a,o,n,i)})}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=p,c(v,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(v),c(v,i,"Generator"),c(v,a,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var E=function(){var t=Object(n.useState)(!1),e=Object(h.a)(t,2),r=e[0],o=e[1],i=function(){return o(!r)},l=Object(f.b)(),y=Object(c.f)(),g=Object(n.useState)(),b=Object(h.a)(g,2),E=b[0],w=b[1],O=Object(n.useState)(),k=Object(h.a)(O,2),L=k[0],j=k[1],_=Object(n.useState)(),S=Object(h.a)(_,2),C=S[0],F=S[1],N=Object(n.useState)(),G=Object(h.a)(N,2),A=G[0],I=G[1],P=Object(n.useState)(),T=Object(h.a)(P,2),z=T[0],B=T[1],R=Object(n.useState)(!1),D=Object(h.a)(R,2),Y=D[0],U=D[1],W=function(){var t=Object(s.a)(x().mark(function t(){var e,r,n;return x().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(U(!0),E&&L&&A&&C){t.next=5;break}return l({title:"Please Fill all the Feilds",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),U(!1),t.abrupt("return");case 5:if(A===C){t.next=8;break}return l({title:"Passwords Do Not Match",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),t.abrupt("return");case 8:return console.log(E,L,A,z),t.prev=9,e={headers:{"Content-type":"application/json"}},t.next=13,v.a.post("/api/user",{name:E,email:L,password:A,pic:z},e);case 13:r=t.sent,n=r.data,console.log(n),l({title:"Registration Successful",status:"success",duration:5e3,isClosable:!0,position:"bottom"}),localStorage.setItem("userInfo",JSON.stringify(n)),U(!1),y("/chats"),t.next=26;break;case 22:t.prev=22,t.t0=t.catch(9),l({title:"Error Occured!",description:t.t0.response.data.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"}),U(!1);case 26:case"end":return t.stop()}},t,null,[[9,22]])}));return function(){return t.apply(this,arguments)}}();return a.a.createElement(u.f,{spacing:"5px"},a.a.createElement(p.a,{id:"first-name",isRequired:!0},a.a.createElement(p.b,null,"Name"),a.a.createElement(d.a,{placeholder:"Enter Your Name",onChange:function(t){return w(t.target.value)}})),a.a.createElement(p.a,{id:"email",isRequired:!0},a.a.createElement(p.b,null,"Email Address"),a.a.createElement(d.a,{type:"email",placeholder:"Enter Your Email Address",onChange:function(t){return j(t.target.value)}})),a.a.createElement(p.a,{id:"password",isRequired:!0},a.a.createElement(p.b,null,"Password"),a.a.createElement(d.b,{size:"md"},a.a.createElement(d.a,{type:r?"text":"password",placeholder:"Enter Password",onChange:function(t){return I(t.target.value)}}),a.a.createElement(d.c,{width:"4.5rem"},a.a.createElement(m.a,{h:"1.75rem",size:"sm",onClick:i},r?"Hide":"Show")))),a.a.createElement(p.a,{id:"password",isRequired:!0},a.a.createElement(p.b,null,"Confirm Password"),a.a.createElement(d.b,{size:"md"},a.a.createElement(d.a,{type:r?"text":"password",placeholder:"Confirm password",onChange:function(t){return F(t.target.value)}}),a.a.createElement(d.c,{width:"4.5rem"},a.a.createElement(m.a,{h:"1.75rem",size:"sm",onClick:i},r?"Hide":"Show")))),a.a.createElement(p.a,{id:"pic"},a.a.createElement(p.b,null,"Upload your Picture"),a.a.createElement(d.a,{type:"file",p:1.5,accept:"image/*",onChange:function(t){return function(t){if(U(!0),void 0!==t){if(console.log(t),"image/jpeg"!==t.type&&"image/png"!==t.type)return l({title:"Please Select an Image!",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),void U(!1);var e=new FormData;e.append("file",t),e.append("upload_preset","MERN_CHAT"),e.append("cloud_name","dic2ofaqk"),fetch("https://api.cloudinary.com/v1_1/dic2ofaqk/image/upload",{method:"post",body:e}).then(function(t){return t.json()}).then(function(t){B(t.url.toString()),console.log(t.url.toString()),U(!1)}).catch(function(t){console.log(t),U(!1)})}else l({title:"Please Select an Image!",status:"warning",duration:5e3,isClosable:!0,position:"bottom"})}(t.target.files[0])}})),a.a.createElement(m.a,{colorScheme:"blue",width:"100%",style:{marginTop:15},onClick:W,isLoading:Y},"Sign Up"))},w=function(){var t=Object(c.f)();return Object(n.useEffect)(function(){JSON.parse(localStorage.getItem("userInfo"))&&t("/chats")},[t]),a.a.createElement(u.c,{maxW:"xl",centerContent:!0},a.a.createElement(u.b,{display:"flex",justifyContent:"center",p:3,bg:"white",w:"100%",m:"40px 0 15px 0",borderRadius:"lg",borderWidth:"1px"},a.a.createElement(u.e,{fontSize:"4xl",fontFamily:"work sans",color:"black"},"Welcome to the chat app!")),a.a.createElement(u.b,{p:4,bg:"white",w:"100%",borderRadius:"lg",borderWidth:"1px"},a.a.createElement(l.e,{variant:"soft-rounded",colorScheme:"blue"},a.a.createElement(l.b,null,a.a.createElement(l.a,{width:"50%"},"Login"),a.a.createElement(l.a,{width:"50%"},"Register")),a.a.createElement(l.d,null,a.a.createElement(l.c,null,a.a.createElement(b,null)),a.a.createElement(l.c,null,a.a.createElement(E,null))))))},O=r(0),k=O.createContext,L=O.useContext,j=O.useState,_=O.useEffect,S=k(),C=function(){return L(S)},F=function(t){var e=t.children,r=j(),n=Object(h.a)(r,2),o=n[0],i=n[1],u=j(),l=Object(h.a)(u,2),s=l[0],f=l[1],p=j([]),d=Object(h.a)(p,2),m=d[0],y=d[1],v=j([]),g=Object(h.a)(v,2),b=g[0],x=g[1],E=Object(c.f)();return _(function(){var t=JSON.parse(localStorage.getItem("userInfo"));i(t),t||E("/")},[E]),a.a.createElement(S.Provider,{value:{userInfo:o,setUserInfo:i,selectedChat:s,setSelectedChat:f,chats:m,setChats:y,notification:b,setNotification:x}},e)},N=r(39),G=r(26),A=r(60),I=function(t,e){return t?e[0]._id===t._id?e[1].name:e[0].name:(console.log("GODHASFORSAKENYOU"),"GODHASFORSAKENYOU")},P=function(t,e,r){return r>0&&t[r-1].sender._id===e.sender._id},T=function(t,e,r,n){return r<t.length-1&&t[r+1].sender._id===e.sender._id&&t[r].sender._id!==n?33:r<t.length-1&&t[r+1].sender._id!==e.sender._id&&t[r].sender._id!==n||r===t.length-1&&t[r].sender._id!==n?0:"auto"},z=r(9),B=r(107),R=r(75),D=function(t){var e=t.user,r=t.children,n=Object(z.c)(),o=n.isOpen,i=n.onOpen,c=n.onClose;return a.a.createElement(a.a.Fragment,null,r?a.a.createElement("span",{onClick:i},r):a.a.createElement(m.b,{d:{base:"flex"},icon:a.a.createElement(G.g,null),onClick:i}),a.a.createElement(B.f,{size:"lg",onClose:c,isOpen:o,isCentered:!0},a.a.createElement(B.l,null),a.a.createElement(B.i,{h:"410px"},a.a.createElement(B.k,{fontSize:"40px",fontFamily:"Work sans",display:"flex",justifyContent:"center"},e.name),a.a.createElement(B.h,null),a.a.createElement(B.g,{display:"flex",flexDir:"column",alignItems:"center",justifyContent:"space-between"},a.a.createElement(R.a,{borderRadius:"full",boxSize:"150px",src:e.pic,alt:e.name}),a.a.createElement(u.e,{fontSize:{base:"28px",md:"30px"},fontFamily:"Work sans"},"Email: ",e.email)),a.a.createElement(B.j,null,a.a.createElement(m.a,{onClick:c},"Close")))))},Y=function(t){var e=t.user,r=t.handleFunction,n=t.admin;return a.a.createElement(u.a,{px:2,py:1,borderRadius:"lg",m:1,mb:2,variant:"solid",fontSize:12,colorScheme:"purple",cursor:"pointer",onClick:r,overflow:"hidden"},e.name,n===e._id&&a.a.createElement("span",null," (Admin)"),a.a.createElement(G.e,{pl:1}))},U=r(105),W=function(t){var e=t.user,r=t.handleFunction;return a.a.createElement(u.b,{onClick:r,cursor:"pointer",bg:"#E8E8E8",_hover:{background:"#38B2AC",color:"white"},w:"100%",display:"flex",alignItems:"center",color:"black",px:3,py:2,mb:2,borderRadius:"lg"},a.a.createElement(U.a,{mr:2,size:"sm",cursor:"pointer",name:e.name,src:e.pic}),a.a.createElement(u.b,{overflow:"hidden"},a.a.createElement(u.e,null,e.name),a.a.createElement(u.e,{fontSize:"xs"},a.a.createElement("b",null,"Email: "),e.email)))};function M(){M=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(j){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof h?e:h,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(j){return{type:"throw",arg:j}}}t.wrap=u;var s={};function h(){}function f(){}function p(){}var d={};c(d,a,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(k([])));y&&y!==e&&r.call(y,a)&&(d=y);var v=p.prototype=h.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e(function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,h=s.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(h).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(a,o,n,i)})}return n=n?n.then(i,i):i()}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function k(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,c(v,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(v),c(v,i,"Generator"),c(v,a,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=k,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),w(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;w(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var V=function(t){var e=t.fetchMessages,r=t.fetchAgain,o=t.setFetchAgain,i=Object(z.c)(),c=i.isOpen,l=i.onOpen,y=i.onClose,g=Object(n.useState)(),b=Object(h.a)(g,2),x=b[0],E=b[1],w=Object(n.useState)([]),O=Object(h.a)(w,2),k=O[0],L=O[1],j=Object(n.useState)(""),_=Object(h.a)(j,2),S=_[0],F=_[1],I=Object(n.useState)([]),P=Object(h.a)(I,2),T=P[0],R=P[1],D=Object(n.useState)(!1),U=Object(h.a)(D,2),V=U[0],$=U[1],q=Object(n.useState)(!1),H=Object(h.a)(q,2),J=H[0],K=H[1],Q=Object(f.b)(),X=C(),Z=X.selectedChat,tt=X.setSelectedChat,et=X.userInfo,rt=function(){var t=Object(s.a)(M().mark(function t(n){var a,i,c;return M().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(et),Z.groupAdmin._id===et.data.user._id||n._id===et.data.user._id){t.next=4;break}return Q({title:"Error Ocurred!",description:"You are not allowed to remove users",status:"error",duration:5e3}),t.abrupt("return");case 4:return t.prev=4,$(!0),a={headers:{Authorization:"Bearer ".concat(et.token)}},t.next=9,v.a.patch("/api/chat/groupremove",{chatId:Z._id,userId:n._id},a);case 9:i=t.sent,c=i.data,n._id===et.data.user._id?tt():tt(c),$(!1),o(!r),e(),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(4),Q({title:"Error Ocurred!",description:"Failed to remove user",status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 20:case"end":return t.stop()}},t,null,[[4,17]])}));return function(e){return t.apply(this,arguments)}}(),nt=function(){var t=Object(s.a)(M().mark(function t(e){var n,a,i;return M().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!Z.users.find(function(t){return t._id===e._id})){t.next=3;break}return Q({title:"User Already in Group!",description:"User Already Added to this Group Chat",status:"error",duration:5e3,isClosable:!0,position:"bottom"}),t.abrupt("return");case 3:return Z.groupAdmin._id===et.data.user._id&&L([].concat(Object(N.a)(k),[e])),t.prev=4,$(!0),n={headers:{Authorization:"Bearer ".concat(et.token)}},t.next=9,v.a.patch("/api/chat/groupadd",{chatId:Z._id,userId:e._id},n);case 9:a=t.sent,i=a.data,tt(i),o(!r),$(!1),t.next=21;break;case 16:t.prev=16,t.t0=t.catch(4),console.log(t.t0),Q({title:"Error Ocurred!",description:"Failed to Add User to Group",status:"error",duration:5e3,isClosable:!0,position:"bottom"}),$(!1);case 21:case"end":return t.stop()}},t,null,[[4,16]])}));return function(e){return t.apply(this,arguments)}}(),at=function(){var t=Object(s.a)(M().mark(function t(e){var n,a,i;return M().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(x){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,K(!0),n={headers:{Authorization:"Bearer ".concat(et.token)}},t.next=7,v.a.patch("/api/chat/rename",{chatId:Z._id,chatName:x},n);case 7:a=t.sent,i=a.data,K(!1),tt(i),o(!r),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(2),Q({title:"Error Ocurred!",description:"Failed to Rename Group Chat",status:"error",duration:5e3}),K(!1);case 18:E("");case 19:case"end":return t.stop()}},t,null,[[2,14]])}));return function(e){return t.apply(this,arguments)}}(),ot=function(){var t=Object(s.a)(M().mark(function t(e){var r,n,a;return M().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(F(e),e){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,$(!0),r={headers:{Authorization:"Bearer ".concat(et.token)}},t.next=8,v.a.get("/api/user?search=".concat(S),r);case 8:n=t.sent,a=n.data,$(!1),R(a),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),Q({title:"Error Ocurred!",description:"Failed to Load Search Results",status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 17:case"end":return t.stop()}},t,null,[[3,14]])}));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(m.b,{display:{base:"flex"},icon:a.a.createElement(G.g,null),onClick:l}),a.a.createElement(B.f,{isOpen:c,onClose:y},a.a.createElement(B.l,null),a.a.createElement(B.i,null,a.a.createElement(B.k,{fontSize:"35px",fontFamily:"Work sans",display:"flex",justifyContent:"center"},Z.chatName),a.a.createElement(B.h,null),a.a.createElement(B.g,null,a.a.createElement(u.b,{display:"flex",w:"100%",flexWrap:"wrap",pb:3},Z.users.map(function(t){return a.a.createElement(Y,{key:t._id,user:t,handleFunction:function(){return rt(t)}})})),a.a.createElement(p.a,{display:"flex"},a.a.createElement(d.a,{placeholder:"Chat Name",mb:3,onChange:function(t){return E(t.target.value)}}),a.a.createElement(m.a,{variant:"solid",colorScheme:"teal",isLoading:J,onClick:at,ml:1},"Update")),a.a.createElement(p.a,null,a.a.createElement(d.a,{placeholder:"Add Users eg. Peter, Paul, Mary",mb:1,onChange:function(t){return ot(t.target.value)}})),V?a.a.createElement(A.a,{size:"lg"}):T?T.map(function(t){return a.a.createElement(W,{key:t._id,user:t,handleFunction:function(){return nt(t)}})}):null),a.a.createElement(B.j,null,a.a.createElement(m.a,{onClick:function(){return rt(et.data.user)},colorScheme:"red"},"Leave Group")))))},$=(r(172),r(106)),q=r(111),H=function(t){var e=t.messages,r=C().userInfo;return a.a.createElement(q.a,null,e&&e.map(function(t,n){return a.a.createElement("div",{key:t._id,style:{display:"flex"}},(function(t,e,r,n){return r<t.length-1&&(t[r+1].sender._id!==e.sender._id||void 0===t[r+1].sender._id)&&t[r].sender._id!==n}(e,t,n,r.data.user._id)||function(t,e,r){return e===t.length-1&&t[t.length-1].sender._id!==r&&t[t.length-1].sender._id}(e,n,r.data.user._id))&&a.a.createElement($.a,{label:t.sender.name,placement:"bottom-start",hasArrow:!0},a.a.createElement(U.a,{mt:"7px",mr:1,size:"sm",cursor:"pointer",name:t.sender.name,src:t.sender.pic})),a.a.createElement("span",{style:{backgroundColor:"".concat(t.sender._id===r.data.user._id?"#BEE3F8":"#B9F5D0"),borderRadius:"20px",padding:"5px 15px",maxWidth:"75%",marginLeft:T(e,t,n,r.data.user._id),marginTop:P(e,t,n,r.data.user._id)?3:10}},t.message))}))},J=r(114);r(113);function K(){K=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(j){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof h?e:h,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(j){return{type:"throw",arg:j}}}t.wrap=u;var s={};function h(){}function f(){}function p(){}var d={};c(d,a,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(k([])));y&&y!==e&&r.call(y,a)&&(d=y);var v=p.prototype=h.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e(function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,h=s.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(h).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(a,o,n,i)})}return n=n?n.then(i,i):i()}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function k(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,c(v,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(v),c(v,i,"Generator"),c(v,a,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=k,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),w(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;w(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Q,X,Z=function(t){var e=t.fetchAgain,r=t.setFetchAgain,o=C(),i=o.userInfo,c=o.selectedChat,l=o.setSelectedChat,y=o.notification,g=o.setNotification,b=i?i.data.user:null,x=Object(n.useState)([]),E=Object(h.a)(x,2),w=E[0],O=E[1],k=Object(n.useState)(!1),L=Object(h.a)(k,2),j=L[0],_=L[1],S=Object(n.useState)(),F=Object(h.a)(S,2),P=F[0],T=F[1],z=Object(n.useState)(!1),B=Object(h.a)(z,2),R=B[0],Y=B[1],U=Object(n.useState)(!1),W=Object(h.a)(U,2),M=W[0],$=W[1],q=Object(n.useState)(!1),Z=Object(h.a)(q,2),tt=Z[0],et=Z[1],rt=Object(f.b)();Object(n.useEffect)(function(){(Q=Object(J.a)("https://hay-boi.herokuapp.com/")).emit("setup",i.data.user),Q.on("connected",function(){Y(!0)}),Q.on("typing",function(){return et(!0)}),Q.on("stop typing",function(){return et(!1)})},[]),Object(n.useEffect)(function(){X&&X!==c?it(!1):X=c},[c]),Object(n.useEffect)(function(){Q.on("message received",function(t){X&&X._id===t.chat._id?(console.log("".concat(t.createdAt,": ").concat(t.sender.name," has sent message: ").concat(t.message)),O([].concat(Object(N.a)(w),[t]))):y.includes(t)||(g([t].concat(Object(N.a)(y))),r(!e),console.log("New Message Received in other chat from User: ".concat(t.sender._id)))})});var nt,at,ot=function(){var t=Object(s.a)(K().mark(function t(e){var r,n,a;return K().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("Enter"!==e.key||!P){t.next=22;break}return $(!1),Q.emit("stop typing",c._id),t.prev=3,_(!0),r={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i.token)}},t.next=8,v.a.post("/api/message",{chatId:c._id,message:P},r);case 8:n=t.sent,a=n.data,console.log("Message Sent: ".concat(a.message)),Q.emit("new message",a),O([].concat(Object(N.a)(w),[a])),T(""),_(!1),Q.emit("join chat",c._id),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(3),rt({title:"Error Ocurred!",description:"Failed to send Message",status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 21:_(!1);case 22:case"end":return t.stop()}},t,null,[[3,18]])}));return function(e){return t.apply(this,arguments)}}(),it=function(){var t=Object(s.a)(K().mark(function t(e){var r,n,a;return K().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c){t.next=2;break}return t.abrupt("return");case 2:return console.log("Fetching Messages"),t.prev=3,e||_(!0),r={headers:{Authorization:"Bearer ".concat(i.token)}},t.next=8,v.a.get("/api/message/".concat(c._id),r);case 8:n=t.sent,a=n.data,console.log(a),O(a),_(!1),Q.emit("join chat",c._id),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(3),rt({title:"Error Occured!",description:"Failed to Load Messages",status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 19:case"end":return t.stop()}},t,null,[[3,16]])}));return function(e){return t.apply(this,arguments)}}(),ct=function(){var t=Object(s.a)(K().mark(function t(e){var r;return K().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(T(e.target.value),R){t.next=3;break}return t.abrupt("return");case 3:M||($(!0),Q.emit("typing",c._id)),r=(new Date).getTime(),setTimeout(function(){(new Date).getTime()-r>=3e3&&($(!1),Q.emit("stop typing",c._id))},3e3);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,c?a.a.createElement(a.a.Fragment,null,a.a.createElement(u.e,{fontSize:{base:"28px",md:"30px"},pb:3,px:2,fontFamily:"Work sans",display:"flex",w:"100%",justifyContent:{base:"space-between"},alignItems:"center"},a.a.createElement(m.b,{display:{base:"flex",md:"none"},icon:a.a.createElement(G.b,null),onClick:function(){return l("")}}),w&&(c.isGroupChat?a.a.createElement(a.a.Fragment,null,c.chatName.toUpperCase(),a.a.createElement(V,{fetchMessages:it,fetchAgain:e,setFetchAgain:r})):a.a.createElement(a.a.Fragment,null,I(b,c.users),a.a.createElement(D,{user:(nt=b,at=c.users,nt?at[0]._id===nt._id?at[1]:at[0]:"THEDEVILHASFORSAKENYOU")})))),a.a.createElement(u.b,{display:"flex",flexDir:"column",justifyContent:"flex-end",p:3,w:"100%",h:"100%",bg:"#E8E8E8",borderRadius:"lg",overflowY:"hidden"},j?a.a.createElement(A.a,{size:"xl",w:20,h:20,alignSelf:"center",margin:"auto"}):a.a.createElement("div",{className:"messages"},a.a.createElement(H,{messages:w})),a.a.createElement(p.a,{onKeyDown:function(t){return"Enter"===t.key?ot(t):null},isRequired:!0,mt:3},tt?a.a.createElement("div",null,"Typing...."):a.a.createElement(a.a.Fragment,null),a.a.createElement(d.a,{placeholder:"Type a message...",onChange:function(t){return ct(t)},variant:"filled",bg:"#E0E0E0"})))):a.a.createElement(u.b,{display:"flex",alignItems:"center",justifyContent:"center",h:"100%"},a.a.createElement(u.e,{fontSize:"3xl",pb:3,fontFamily:"Work sans"},"Click on a User to Start a Chat")))},tt=function(t){var e=t.fetchAgain,r=t.setFetchAgain,n=C().selectedChat;return a.a.createElement(u.b,{display:{base:n?"flex":"none",md:"flex"},alignItems:"center",flexDir:"column",bg:"white",p:3,w:{base:"100%",md:"68%"},borderRadius:"lg",borderWidth:"1px"},a.a.createElement(Z,{fetchAgain:e,setFetchAgain:r}))},et=r(24),rt=function(){return a.a.createElement(u.d,null,a.a.createElement(et.a,{height:"45px"}),a.a.createElement(et.a,{height:"45px"}),a.a.createElement(et.a,{height:"45px"}),a.a.createElement(et.a,{height:"45px"}),a.a.createElement(et.a,{height:"45px"}),a.a.createElement(et.a,{height:"45px"}),a.a.createElement(et.a,{height:"45px"}),a.a.createElement(et.a,{height:"45px"}),a.a.createElement(et.a,{height:"45px"}),a.a.createElement(et.a,{height:"45px"}),a.a.createElement(et.a,{height:"45px"}),a.a.createElement(et.a,{height:"45px"}))};function nt(){nt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(j){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof h?e:h,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(j){return{type:"throw",arg:j}}}t.wrap=u;var s={};function h(){}function f(){}function p(){}var d={};c(d,a,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(k([])));y&&y!==e&&r.call(y,a)&&(d=y);var v=p.prototype=h.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e(function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,h=s.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(h).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(a,o,n,i)})}return n=n?n.then(i,i):i()}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function k(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,c(v,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(v),c(v,i,"Generator"),c(v,a,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=k,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),w(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;w(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var at=function(t){var e=t.children,r=Object(z.c)(),o=r.isOpen,i=r.onOpen,c=r.onClose,l=Object(n.useState)(),y=Object(h.a)(l,2),g=y[0],b=y[1],x=Object(n.useState)([]),E=Object(h.a)(x,2),w=E[0],O=E[1],k=Object(n.useState)(""),L=Object(h.a)(k,2),j=L[0],_=L[1],S=Object(n.useState)([]),F=Object(h.a)(S,2),G=F[0],I=F[1],P=Object(n.useState)(!1),T=Object(h.a)(P,2),R=T[0],D=T[1],U=Object(f.b)(),M=C(),V=M.userInfo,$=M.chats,q=M.setChats,H=function(){var t=Object(s.a)(nt().mark(function t(e){var r,n,a;return nt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(_(e),e){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,D(!0),r={headers:{Authorization:"Bearer ".concat(V.token)}},t.next=8,v.a.get("/api/user?search=".concat(j),r);case 8:n=t.sent,a=n.data,D(!1),I(a),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),U({title:"Error Ocurred!",description:"Failed to Load Search Results",status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 17:case"end":return t.stop()}},t,null,[[3,14]])}));return function(e){return t.apply(this,arguments)}}(),J=function(){var t=Object(s.a)(nt().mark(function t(){var e,r,n;return nt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(g&&w){t.next=3;break}return U({title:"Please enter a group name and select users",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),t.abrupt("return");case 3:return t.prev=3,e={headers:{Authorization:"Bearer ".concat(V.token)}},t.next=7,v.a.post("/api/chat/group",{chatName:g,users:JSON.stringify(w.map(function(t){return t._id}))},e);case 7:r=t.sent,n=r.data,q([n].concat(Object(N.a)($))),c(),U({title:"New Group Chat Created Successfully",status:"success",duration:5e3,isClosable:!0,position:"bottom"}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),U({title:"Error Occured!",description:"Failed to Create Group Chat",status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 17:case"end":return t.stop()}},t,null,[[3,14]])}));return function(){return t.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{onClick:i},e),a.a.createElement(B.f,{isOpen:o,onClose:c},a.a.createElement(B.l,null),a.a.createElement(B.i,null,a.a.createElement(B.k,{fontSize:"35px",fontFamily:"Work sans",display:"flex",justifyContent:"center"},"Create Group Chat"),a.a.createElement(B.h,null),a.a.createElement(B.g,{display:"flex",flexDir:"column",alignItems:"center"},a.a.createElement(p.a,null,a.a.createElement(d.a,{placeholder:"Chat Name",mb:3,onChange:function(t){return b(t.target.value)}})),a.a.createElement(p.a,null,a.a.createElement(d.a,{placeholder:"Add Users eg. Peter, Paul, Mary",mb:1,onChange:function(t){return H(t.target.value)}})),a.a.createElement(u.b,{w:"100%",display:"flex",flexWrap:"wrap"},w.map(function(t){return a.a.createElement(Y,{key:t._id,user:t,handleFunction:function(){return e=t,void O(w.filter(function(t){return t._id!==e._id}));var e}})})),R?a.a.createElement("div",null,"loading",a.a.createElement(A.a,{pl:3,ml:"auto",display:"flex"})):G?G.slice(0,4).map(function(t){return a.a.createElement(W,{key:t._id,user:t,handleFunction:function(){var e;e=t,w.includes(e)?U({title:"User Already Added",description:"User Already Added",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}):O([].concat(Object(N.a)(w),[e]))}})}):null),a.a.createElement(B.j,null,a.a.createElement(m.a,{colorScheme:"blue",onClick:J},"Create Chat")))))};function ot(){ot=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(j){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof h?e:h,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(j){return{type:"throw",arg:j}}}t.wrap=u;var s={};function h(){}function f(){}function p(){}var d={};c(d,a,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(k([])));y&&y!==e&&r.call(y,a)&&(d=y);var v=p.prototype=h.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e(function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,h=s.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(h).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(a,o,n,i)})}return n=n?n.then(i,i):i()}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function k(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,c(v,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(v),c(v,i,"Generator"),c(v,a,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=k,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),w(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;w(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var it=function(t){var e=t.fetchAgain,r=C(),o=r.selectedChat,i=r.setSelectedChat,c=r.userInfo,l=r.chats,p=r.setChats,d=Object(n.useState)(),y=Object(h.a)(d,2),g=y[0],b=y[1],x=Object(f.b)();return Object(n.useEffect)(function(){b(JSON.parse(localStorage.getItem("userInfo")).data.user),function(){var t=Object(s.a)(ot().mark(function t(){var e,r,n;return ot().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=4,v.a.get("/api/chat",e);case 4:r=t.sent,n=r.data,p(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),x({title:"Error Occurred!",status:"error",description:"Failed to Load Chats",duration:5e3,isClosable:!0,position:"bottom"});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(){return t.apply(this,arguments)}}()()},[e,c,x,p]),a.a.createElement(u.b,{d:{base:o?"none":"flex",md:"flex"},flexDir:"column",alignItems:"center",p:3,bg:"white",w:{base:"100%",md:"31%"},borderRadius:"lg",borderWidth:"1px"},a.a.createElement(u.b,{pb:3,px:3,fontSize:{base:"28px",md:"30px"},fontFamily:"Work sans",display:"flex",justifyContent:"space-between",alignItems:"center",w:"100%"},"My Chats",a.a.createElement(at,null,a.a.createElement(m.a,{display:"flex",fontSize:{base:"17px",md:"10px",lg:"17px"},rightIcon:a.a.createElement(G.a,null)},"Create New Chat"))),a.a.createElement(u.b,{display:"flex",flexDirection:"column",p:3,bg:"#F8F8F8",w:"100%",h:"93%",borderRadius:"lg",overflowY:"hidden"},l?a.a.createElement(u.d,{overflowY:"scroll"},l.map(function(t){return a.a.createElement(u.b,{onClick:function(){return i(t)},cursor:"pointer",bg:o===t?"#38B2AC":"#E8E8E8",color:o===t?"white":"black",px:3,py:2,borderRadius:"lg",key:t._id},a.a.createElement(u.e,null,t.isGroupChat?t.chatName:I(g,t.users)))})):a.a.createElement(rt,null)))},ct=r(108);function ut(){ut=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(j){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof h?e:h,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(j){return{type:"throw",arg:j}}}t.wrap=u;var s={};function h(){}function f(){}function p(){}var d={};c(d,a,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(k([])));y&&y!==e&&r.call(y,a)&&(d=y);var v=p.prototype=h.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e(function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,h=s.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(h).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(a,o,n,i)})}return n=n?n.then(i,i):i()}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function k(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,c(v,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(v),c(v,i,"Generator"),c(v,a,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=k,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),w(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;w(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var lt=function(){var t=a.a.useState(""),e=Object(h.a)(t,2),r=e[0],n=e[1],o=a.a.useState([]),i=Object(h.a)(o,2),l=i[0],p=i[1],y=a.a.useState(!1),g=Object(h.a)(y,2),b=g[0],x=g[1],E=a.a.useState(!1),w=Object(h.a)(E,2),O=w[0],k=w[1],L=Object(z.c)(),j=L.isOpen,_=L.onOpen,S=L.onClose,F=C(),P=F.userInfo,T=F.setSelectedChat,R=F.chats,Y=F.setChats,M=F.notification,V=F.setNotification,q=P.data.user,H=Object(c.f)(),J=Object(f.b)(),K=function(){var t=Object(s.a)(ut().mark(function t(e){var a,o,i;return ut().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n(e.target.value),r||e.target.value){t.next=4;break}return J({title:"Please enter a search query",status:"warning",duration:5e3,isClosable:!0,position:"bottom"}),t.abrupt("return");case 4:return t.prev=4,x(!0),a={headers:{Authorization:"Bearer ".concat(P.token)}},t.next=9,v.a.get("/api/user?search=".concat(r),a);case 9:o=t.sent,i=o.data,x(!1),p(i),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),J({title:"Error Occured!",description:"Failed to Load Search Results",status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 18:case"end":return t.stop()}},t,null,[[4,15]])}));return function(e){return t.apply(this,arguments)}}(),Q=function(){var t=Object(s.a)(ut().mark(function t(e){var r,n,a;return ut().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,k(!0),r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(P.token)}},t.next=5,v.a.post("/api/chat",{userId:e},r);case 5:n=t.sent,a=n.data,R.find(function(t){return t._id===a._id})||Y([a].concat(Object(N.a)(R))),T(a),k(!1),S(),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),J({title:"Error Occured!",description:t.t0.message,status:"error",duration:5e3,isClosable:!0,position:"bottom"});case 16:case"end":return t.stop()}},t,null,[[0,13]])}));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(u.b,{display:"flex",justifyContent:"space-between",alignItems:"center",bg:"white",w:"100%",p:"5px 10px 5px 10px",borderWidth:"5px"},a.a.createElement($.a,{label:"Search Users to Chat",hasArrow:!0,placement:"bottom-end"},a.a.createElement(m.a,{variant:"ghost",onClick:_},a.a.createElement(G.f,null),a.a.createElement(u.e,{d:{base:"none",md:"flex"},px:"4"},"Search Users"))),a.a.createElement(u.e,{fontSize:"2xl",fontFamily:"Work sans",fontWeight:"extrabold"},"Hay-Boi"),a.a.createElement("div",null,a.a.createElement(ct.a,null,a.a.createElement(ct.b,{p:1},a.a.createElement(G.c,{fontSize:"2xl",m:1})),a.a.createElement(ct.e,{pl:2},!M.length&&"No New Messages",M.map(function(t){return a.a.createElement(ct.d,{key:t._id,onClick:function(){T(t.chat),V(M.filter(function(e){return e!==t}))}},t.chat.isGroupChat?"New Message in ".concat(t.chat.chatName):"New Message from ".concat(I(P.data.user,t.chat.users)))}))),a.a.createElement(ct.a,null,a.a.createElement(ct.b,{as:m.a,rightIcon:a.a.createElement(G.d,null)},a.a.createElement(U.a,{size:"sm",cursor:"pointer",name:q.name,src:q.pic})),a.a.createElement(ct.e,null,a.a.createElement(D,{user:q},a.a.createElement(ct.d,null,"My Profile"),""),a.a.createElement(ct.c,null),a.a.createElement(ct.d,{onClick:function(){localStorage.removeItem("userInfo"),H("/")}},"Log Out"))))),a.a.createElement(B.a,{placement:"left",onClose:S,isOpen:j},a.a.createElement(B.e,null,a.a.createElement(B.c,null,a.a.createElement(B.d,{borderBottomWidth:"1px"},"Search Users"),a.a.createElement(B.b,null,a.a.createElement(u.b,{display:"flex",pb:2},a.a.createElement(d.a,{placeholder:"Search by Name or Email",mr:2,value:r,onChange:function(t){K(t)}}),a.a.createElement(m.a,{onClick:K},"Go")),b?a.a.createElement(rt,null):l?l.map(function(t){return a.a.createElement(W,{key:t._id,user:t,handleFunction:function(){return Q(t._id)}})}):null,O&&a.a.createElement(A.a,{ml:"auto",d:"flex"}))))))},st=function(){var t=Object(n.useState)(!1),e=Object(h.a)(t,2),r=e[0],o=e[1],i=C().user;return a.a.createElement("div",{style:{width:"100%"}},i&&a.a.createElement(lt,null),a.a.createElement(u.b,{d:"flex",justifyContent:"space-between",w:"100%",h:"91.5vh",p:"10px"},i&&a.a.createElement(it,{fetchAgain:r}),i&&a.a.createElement(tt,{fetchAgain:r,setFetchAgain:o})))};var ht=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(c.c,null,a.a.createElement(c.a,{path:"/",element:a.a.createElement(w,null)}),a.a.createElement(c.a,{path:"/chats",element:a.a.createElement(st,null)})))},ft=r(29),pt=r(52);i.a.createRoot(document.getElementById("root")).render(a.a.createElement(ft.a,null,a.a.createElement(pt.a,null,a.a.createElement(F,null,a.a.createElement(ht,null)))))}},[[138,1,2]]]);
//# sourceMappingURL=main.fd81f148.chunk.js.map